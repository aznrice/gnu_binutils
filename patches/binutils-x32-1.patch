diff --git a/gas/ChangeLog.x32 b/gas/ChangeLog.x32
new file mode 100644
index 0000000..9cbb5b7
--- /dev/null
+++ b/gas/ChangeLog.x32
@@ -0,0 +1,3 @@
+2011-06-20  H.J. Lu  <hongjiu.lu@intel.com>
+
+	* configure.tgt: Support x32.
diff --git a/gas/configure.tgt b/gas/configure.tgt
index a171a32..7f7f611 100644
--- a/gas/configure.tgt
+++ b/gas/configure.tgt
@@ -81,7 +81,14 @@ case ${cpu} in
   sparclite*)		cpu_type=sparc arch=sparclite ;;
   sparc*)		cpu_type=sparc arch=sparclite ;; # ??? See tc-sparc.c.
   v850*)		cpu_type=v850 ;;
-  x86_64*)		cpu_type=i386 arch=x86_64;;
+  x86_64*)
+    cpu_type=i386
+    if [ x"$vendor" = xx32 ]; then
+      arch=x86_64:32
+    else
+      arch=x86_64
+    fi
+    ;;
   xtensa*)		cpu_type=xtensa arch=xtensa ;;
   *)			cpu_type=${cpu} ;;
 esac
diff --git a/ld/ChangeLog.x32 b/ld/ChangeLog.x32
new file mode 100644
index 0000000..9cbb5b7
--- /dev/null
+++ b/ld/ChangeLog.x32
@@ -0,0 +1,3 @@
+2011-06-20  H.J. Lu  <hongjiu.lu@intel.com>
+
+	* configure.tgt: Support x32.
diff --git a/ld/configure.tgt b/ld/configure.tgt
index f35298c..dd05975 100644
--- a/ld/configure.tgt
+++ b/ld/configure.tgt
@@ -190,6 +190,11 @@ i[3-7]86-*-linux-*)	targ_emul=elf_i386
 			targ64_extra_libpath=elf_x86_64
 			targ_extra_libpath=elf32_x86_64
 			tdir_i386linux=${targ_alias}aout ;;
+x86_64-x32-linux-*)	targ_emul=elf32_x86_64
+			targ_extra_emuls="elf_x86_64 elf_i386 i386linux elf_l1om"
+			targ_extra_libpath="elf_i386 elf_x86_64 elf_l1om"
+			tdir_i386linux=`echo ${targ_alias}aout | sed -e 's/x86_64/i386/'`
+			tdir_elf_i386=`echo ${targ_alias} | sed -e 's/x86_64/i386/'` ;;
 x86_64-*-linux-*)	targ_emul=elf_x86_64
 			targ_extra_emuls="elf32_x86_64 elf_i386 i386linux elf_l1om"
 			targ_extra_libpath="elf_i386 elf32_x86_64 elf_l1om"
diff --git a/ld/testsuite/ChangeLog.x32 b/ld/testsuite/ChangeLog.x32
new file mode 100644
index 0000000..c197322
--- /dev/null
+++ b/ld/testsuite/ChangeLog.x32
@@ -0,0 +1,6 @@
+2011-06-20  H.J. Lu  <hongjiu.lu@intel.com>
+
+	* ld-elf/eh1.d: Skip x32.
+	* ld-elf/eh2.d: Likewise.
+	* ld-elf/eh3.d: Likewise.
+	* ld-elf/eh4.d: Likewise.
diff --git a/ld/testsuite/ld-elf/eh1.d b/ld/testsuite/ld-elf/eh1.d
index f0874f7..4275de1 100644
--- a/ld/testsuite/ld-elf/eh1.d
+++ b/ld/testsuite/ld-elf/eh1.d
@@ -2,6 +2,7 @@
 #source: eh1a.s
 #ld:
 #readelf: -wf
+#notarget: x86_64-x32-*
 #target: x86_64-*-*
 
 Contents of the .eh_frame section:
diff --git a/ld/testsuite/ld-elf/eh2.d b/ld/testsuite/ld-elf/eh2.d
index 1a05d7f..a7372f0 100644
--- a/ld/testsuite/ld-elf/eh2.d
+++ b/ld/testsuite/ld-elf/eh2.d
@@ -2,6 +2,7 @@
 #source: eh2a.s
 #ld:
 #readelf: -wf
+#notarget: x86_64-x32-*
 #target: x86_64-*-*
 
 Contents of the .eh_frame section:
diff --git a/ld/testsuite/ld-elf/eh3.d b/ld/testsuite/ld-elf/eh3.d
index 1f76b8c..a9777a2 100644
--- a/ld/testsuite/ld-elf/eh3.d
+++ b/ld/testsuite/ld-elf/eh3.d
@@ -2,6 +2,7 @@
 #source: eh3a.s
 #ld:
 #readelf: -wf
+#notarget: x86_64-x32-*
 #target: x86_64-*-*
 
 Contents of the .eh_frame section:
diff --git a/ld/testsuite/ld-elf/eh4.d b/ld/testsuite/ld-elf/eh4.d
index b8f9865..b568f32 100644
--- a/ld/testsuite/ld-elf/eh4.d
+++ b/ld/testsuite/ld-elf/eh4.d
@@ -2,6 +2,7 @@
 #source: eh4a.s
 #ld: -shared
 #readelf: -wf
+#notarget: x86_64-x32-*
 #target: x86_64-*-*
 
 Contents of the .eh_frame section:
